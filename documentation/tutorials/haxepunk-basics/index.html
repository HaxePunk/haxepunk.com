<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>HaxePunk Basics</title>

		<meta name="description" content="HaxePunk is a 2d game engine written in Haxe for cross-platform deployment.">
		<meta name="author" content="HaxePunk.com">
		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

		<link rel="shortcut icon" type="image/png" href="/img/favicon.png">

		<link rel="stylesheet" type="text/css" href="/css/ink.css">
		<link rel="stylesheet" type="text/css" href="/css/syntax.css">
		<link rel="stylesheet" type="text/css" href="/css/custom.css">

		<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-5069201-6', 'haxepunk.com');
		ga('send', 'pageview');
		</script>
	</head>

	<body>
		<div class="top-menu">
			<a href="/" class="logo">
				<image src="/img/HaxePunk.svg" width="512" height="128" alt="HaxePunk" />
			</a>
			<nav class="ink-navigation">
				<ul class="menu horizontal orange">
					<li class="">
						<a href="/">Home</a>
					</li>
					<li class="">
						<a href="/features/">Features</a>
					</li>
					<li class="">
						<a href="/demos/">Demos</a>
					</li>
					<li class="active">
						<a href="/documentation/">Documentation</a>
					</li>
					<li class="">
						<a href="/games/">Games</a>
					</li>
					<li>
						<a href="http://forum.haxepunk.com/category/1/blog">Blog</a>
					</li>
					<li>
						<a href="http://forum.haxepunk.com/">Forum</a>
					</li>
				</ul>
			</nav>
		</div>

		<div class="github">
			<a href="https://github.com/HaxePunk/HaxePunk">Fork me on GitHub</a>
		</div>

<div class="ink-grid vspace mainpoints">
	<h1>HaxePunk Basics</h1>

<p>This tutorial assumes you have gone through the <a href="/documentation/tutorials/getting-started/">Getting Started</a> tutorial.</p>

<p>Now that you have HaxePunk installed it is time to start making a game. We will start with a new project to keep things simple.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">haxelib run HaxePunk new Tut01
</code></pre></div>
<p>Now we need to make our main game scene. Create a folder and name it scenes and put a file named GameScene.hx into that folder. You will also need to copy this block graphic and put in assets/graphics.</p>

<p><img src="/documentation/tutorials/images/block.png" alt="Block Image"></p>

<h3>src/scenes/GameScene.hx</h3>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">package</span> <span class="nn">scenes</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Scene</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">graphics</span><span class="p">.</span><span class="nn">Image</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">GameScene</span> <span class="kd">extends</span> <span class="n">Scene</span>
<span class="p">{</span>

    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">super</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nf">begin</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">addGraphic</span><span class="p">(</span><span class="k">new</span> <span class="n">Image</span><span class="p">(</span><span class="s2">&quot;graphics/block.png&quot;</span><span class="p">));</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>Notice that we added a function <code>begin</code> by overriding it. This will get called when the scene is added in HaxePunk. We&#39;ve also called the addGraphic function to add a new image to the scene. We do this by passing in the path to our asset file.</p>

<p>If we tested the project now, nothing would happen. So in order for everything to work we need to hook up the scene to our Main class.</p>

<h3>src/Main.hx</h3>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="n">HXP</span><span class="p">.</span><span class="n">scene</span> <span class="o">=</span> <span class="k">new</span> <span class="n">scenes</span><span class="p">.</span><span class="n">GameScene</span><span class="p">();</span>
</code></pre></div>
<p>We are setting HXP.scene to a new instance of GameScene. This creates the scene and starts it up, calling the begin function we previously created.</p>

<p>Everything is in place so let&#39;s test out the project.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">lime <span class="nb">test</span> flash
</code></pre></div>
<p>If everything builds you should see an image of a block in the upper left hand corner of the screen. Let&#39;s make this a little more interesting by moving the block around. The following changes should be made to the GameScene class.</p>

<h3>src/scenes/GameScene.hx</h3>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">package</span> <span class="nn">scenes</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Entity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Scene</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">graphics</span><span class="p">.</span><span class="nn">Image</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">GameScene</span> <span class="kd">extends</span> <span class="n">Scene</span>
<span class="p">{</span>

    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">super</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nf">begin</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">block</span> <span class="o">=</span> <span class="n">addGraphic</span><span class="p">(</span><span class="k">new</span> <span class="n">Image</span><span class="p">(</span><span class="s2">&quot;graphics/block.png&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nf">update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">block</span><span class="p">.</span><span class="n">moveBy</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

        <span class="n">super</span><span class="p">.</span><span class="n">update</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">private</span> <span class="kd">var</span> block<span class="p">:</span><span class="n">Entity</span><span class="p">;</span>

<span class="p">}</span>
</code></pre></div>
<p>Notice that we added an update function which applies changes to the block entity on every frame. The moveBy function takes an x and y value to move an entity. You could also apply the movement using:
<code>block.x += 2;</code>
but we&#39;ll see why moveBy is useful in a bit.</p>

<p>This example isn&#39;t very interesting yet and it would be better if we could control the object. Let&#39;s create another class and put it in a new folder named entities. For lack of a better name I&#39;m going to call the class Block.</p>

<h3>src/entities/Block.hx</h3>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">package</span> <span class="nn">entities</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Entity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">graphics</span><span class="p">.</span><span class="nn">Image</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">Block</span> <span class="kd">extends</span> <span class="n">Entity</span>
<span class="p">{</span>
    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="n">Int</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span><span class="n">Int</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">super</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">);</span>

        <span class="n">graphic</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Image</span><span class="p">(</span><span class="s2">&quot;graphics/block.png&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>To define a new entity we will always extend the <code>haxepunk.Entity</code> class. Notice that I am creating the image inside the Block&#39;s constructor and applying it to graphic variable. This will cause the Block to show up on the screen once we add it to the scene. Let&#39;s go ahead and do that now. Replace the GameScene code with the following:</p>

<h3>src/scenes/GameScene.hx</h3>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">package</span> <span class="nn">scenes</span><span class="p">;</span>

<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Scene</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">entities</span><span class="p">.</span><span class="nn">Block</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">GameScene</span> <span class="kd">extends</span> <span class="n">Scene</span>
<span class="p">{</span>

    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">super</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nf">begin</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">add</span><span class="p">(</span><span class="k">new</span> <span class="n">Block</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">));</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>If you test now, you should now see a block positioned at (30, 50). This is how you will add most entities to the scene. Although I promised that we would be able to move this block ourselves and I didn&#39;t lie. Onward!</p>

<p>You will need to add an update function to the Block class and import the Input/Key classes. Then all we have to do is check every frame if the left or right arrows are pressed and move the block.</p>

<h3>src/entities/Block.hx</h3>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">input</span><span class="p">.</span><span class="nn">Input</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">haxepunk</span><span class="p">.</span><span class="nn">input</span><span class="p">.</span><span class="nn">Key</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">Block</span> <span class="kd">extends</span> <span class="n">Entity</span>
<span class="p">{</span>

    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>

        <span class="n">Key</span><span class="p">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">Key</span><span class="p">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">Key</span><span class="p">.</span><span class="n">A</span><span class="p">]);</span>
        <span class="n">Key</span><span class="p">.</span><span class="n">define</span><span class="p">(</span><span class="s2">&quot;right&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">Key</span><span class="p">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">Key</span><span class="p">.</span><span class="n">D</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="c1">// ...</span>

    <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nf">update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">check</span><span class="p">(</span><span class="s2">&quot;left&quot;</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">moveBy</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">check</span><span class="p">(</span><span class="s2">&quot;right&quot;</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">moveBy</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">super</span><span class="p">.</span><span class="n">update</span><span class="p">();</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre></div>
<p>So now you have learned how to add graphics, create entities, and move them around on the screen. Challenge yourself to update the code so that the block can move vertically. Happy coding!</p>

</div>


		<footer>
		<div class="ink-grid">
			<div class="large-100 medium-100 small-100">
				<strong>HaxePunk</strong> is an open source, cross-platform game engine for the <a href="http://haxe.org">Haxe programming language</a>.
			</div>
			<div class="large-100 medium-100 small-100">
				Copyright &copy; 2011-2018 HaxePunk.com
				&bull;
				HaxePunk's <a href="https://github.com/HaxePunk">code</a> is licensed under
				<a href="http://opensource.org/licenses/MIT">MIT</a>
				&bull;
				Follow <a href="https://twitter.com/HaxePunk">@HaxePunk</a>
				&bull;
				<a href="https://github.com/HaxePunk/haxepunk.com">Site</a> made with <a href="http://ink.sapo.pt/">Ink</a>
				Powered by <a href="http://pages.github.com/">GitHub Pages</a>
			</div>
		</div>
		</footer>

		<script type="text/javascript" src="/js/holder.js"></script>
		<script type="text/javascript" src="/js/ink-all.min.js"></script>
		<script type="text/javascript" src="/js/autoload.js"></script>
		<script type="text/javascript" src="/js/html5shiv.js"></script>
	</body>

</html>
