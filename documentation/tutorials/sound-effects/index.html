<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

		<title>Sound Effects</title>

		<meta name="description" content="HaxePunk is a 2d game engine written in Haxe for cross-platform deployment.">
		<meta name="author" content="HaxePunk.com">
		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

		<link rel="shortcut icon" type="image/png" href="http://haxepunk.com/img/favicon.png">

		<link rel="stylesheet" type="text/css" href="http://haxepunk.com/css/ink.css">
		<link rel="stylesheet" type="text/css" href="http://haxepunk.com/css/syntax.css">
		<link rel="stylesheet" type="text/css" href="http://haxepunk.com/css/custom.css">

		<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-5069201-6', 'haxepunk.com');
		ga('send', 'pageview');
		</script>
	</head>

	<body>
		<div class="top-menu">
			<a href="http://haxepunk.com/" class="logo">
				<image src="http://haxepunk.com/img/HaxePunk.svg" width="300" height="75" alt="HaxePunk" />
			</a>
			<nav class="ink-navigation">
				<ul class="menu horizontal orange">
					<li class="">
						<a href="http://haxepunk.com/">Home</a>
					</li>
					<li class="">
						<a href="http://haxepunk.com/features/">Features</a>
					</li>
					<li class="">
						<a href="http://haxepunk.com/demos/">Demos</a>
					</li>
					<li class="active">
						<a href="http://haxepunk.com/documentation/">Documentation</a>
					</li>
					<li class="">
						<a href="http://haxepunk.com/games/">Games</a>
					</li>
					<li>
						<a href="http://forum.haxepunk.com/">Forum</a>
					</li>
				</ul>
			</nav>
		</div>

		<div class="github">
			<a href="https://github.com/HaxePunk/HaxePunk">Fork me on GitHub</a>
		</div>

<div class="ink-grid vspace mainpoints">
	<h1>Sound Effects</h1>

<p>In this tutorial, I will teach you how to embed and play sound effects in your game, as well as how to alter their volume and panning</p>

<h2>Playing sounds</h2>

<p>Sounds in HaxePunk are created and played using Sfx objects. Here, I&#39;ll create a Sfx object and assign it to a variable in our Player class:</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">import</span> <span class="nn">com</span><span class="p">.</span><span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Entity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com</span><span class="p">.</span><span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Sfx</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">Player</span> <span class="kd">extends</span> <span class="n">Entity</span>
<span class="p">{</span>
    <span class="kd">public</span> <span class="kd">var</span> shoot<span class="p">:</span><span class="n">Sfx</span><span class="p">;</span>

    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">super</span><span class="p">();</span>
        <span class="c1">// audio files are placed in the assets/audio folder</span>
        <span class="n">shoot</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sfx</span><span class="p">(</span><span class="s2">&quot;audio/shoot.mp3&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>So now, our Player can access this sound effect at any time to play() the sound, like this:</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="kn">import</span> <span class="nn">com</span><span class="p">.</span><span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Entity</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com</span><span class="p">.</span><span class="nn">haxepunk</span><span class="p">.</span><span class="nn">Sfx</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com</span><span class="p">.</span><span class="nn">haxepunk</span><span class="p">.</span><span class="nn">utils</span><span class="p">.</span><span class="nn">Input</span><span class="p">;</span>
<span class="kn">import</span> <span class="nn">com</span><span class="p">.</span><span class="nn">haxepunk</span><span class="p">.</span><span class="nn">utils</span><span class="p">.</span><span class="nn">Key</span><span class="p">;</span>

<span class="kd">class</span> <span class="n">Player</span> <span class="kd">extends</span> <span class="n">Entity</span>
<span class="p">{</span>
    <span class="kd">public</span> <span class="kd">var</span> shoot<span class="p">:</span><span class="n">Sfx</span><span class="p">;</span>

    <span class="kd">public</span> <span class="kd">function</span> <span class="nf">new</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="n">super</span><span class="p">();</span>
        <span class="c1">// audio files are placed in the assets/audio folder</span>
        <span class="n">shoot</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Sfx</span><span class="p">(</span><span class="s2">&quot;audio/shoot.mp3&quot;</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">override</span> <span class="kd">function</span> <span class="nf">update</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">pressed</span><span class="p">(</span><span class="n">Key</span><span class="p">.</span><span class="n">SPACE</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="c1">// Play the sound when the spacebar is pressed.</span>
            <span class="n">shoot</span><span class="p">.</span><span class="n">play</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>That will play the sound once. If you want the sound effect to loop (for example, background music or perhaps a running motor), you can use the loop() function instead, like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">shoot.loop();
</code></pre></div>
<p>And stopping a sound effect that is playing simply requires the stop() function:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">shoot.stop();
</code></pre></div>
<h2>Volume &amp; Panning</h2>

<p>HaxePunk allows you to change the global volume and panning factor of sound effects by assigning the HXP.volume and HXP.pan properties, like this:</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="c1">// Sets the volume to 50%.</span>
<span class="n">HXP</span><span class="p">.</span><span class="n">volume</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">;</span>
<span class="c1">// Pans all sounds to the left speaker.</span>
<span class="n">HXP</span><span class="p">.</span><span class="n">pan</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</code></pre></div>
<p>But sometimes you want to change the volume or panning factor of an individually playing sound effect, which is also possible using the Sfx class. If you have a Sfx object, you can assign a volume and panning factor to the sound when you call its play() or loop() function, by passing in the desired parameters:</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="c1">// Play the sound with 50% volume and no panning.</span>
<span class="n">mySfx</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
<span class="c1">// Play the sound with 100% volume, panned to the right speaker.</span>
<span class="n">mySfx</span><span class="p">.</span><span class="n">play</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</code></pre></div>
<p>And if you want to alter the volume or panning factor of a sound effect during playback, you can just assign the Sfx object&#39;s volume and pan properties like so:</p>
<div class="highlight"><pre><code class="language-haxe" data-lang="haxe"><span class="c1">// Set the sound&#39;s volume to 25%.</span>
<span class="n">mySfx</span><span class="p">.</span><span class="n">volume</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">;</span>
<span class="c1">// Pan the sound to the left speaker by 50%.</span>
<span class="n">mySfx</span><span class="p">.</span><span class="n">pan</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">;</span>
</code></pre></div>
</div>


		<footer>
		<div class="ink-grid">
		   <div class="large-100 medium-100 small-100">
				Copyright &copy; 2011-2016 HaxePunk.com
				&bull;
				HaxePunk's <a href="https://github.com/HaxePunk">code</a> is licensed under
				<a href="http://opensource.org/licenses/MIT">MIT</a>
				&bull;
				Follow <a href="https://twitter.com/HaxePunk">@HaxePunk</a>
				&bull;
				<a href="https://github.com/HaxePunk/haxepunk.com">Site</a> made with <a href="http://ink.sapo.pt/">Ink</a>
				Powered by <a href="http://pages.github.com/">GitHub Pages</a>
			</div>
		</div>
		</footer>

		<script type="text/javascript" src="http://haxepunk.com/js/holder.js"></script>
		<script type="text/javascript" src="http://haxepunk.com/js/ink-all.min.js"></script>
		<script type="text/javascript" src="http://haxepunk.com/js/autoload.js"></script>
		<script type="text/javascript" src="http://haxepunk.com/js/html5shiv.js"></script>
	</body>

</html>
